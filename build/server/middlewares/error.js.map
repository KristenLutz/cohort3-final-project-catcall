{"version":3,"sources":["../../../server/middlewares/error.js"],"names":["errorHandler","err","req","res","next","locals","message","error","app","get","sendStatus","status"],"mappings":";;;;;;;AAAA;;;;;;AAEO,MAAMA,sCAAe,UAASC,GAAT,EAAcC,GAAd,EAAmBC,GAAnB,EAAwBC,IAAxB,EAA8B;AACtD;AACAD,QAAIE,MAAJ,CAAWC,OAAX,GAAqBL,IAAIK,OAAzB;AACAH,QAAIE,MAAJ,CAAWE,KAAX,GAAmBL,IAAIM,GAAJ,CAAQC,GAAR,CAAY,KAAZ,MAAuB,aAAvB,GACbR,GADa,GAEb,EAFN;;AAIA,qBAAOM,KAAP,CAAaN,GAAb;;AAEAE,QAAIO,UAAJ,CACIT,IAAIU,MAAJ,IAAc,GADlB,EATsD,CAWnD;AACN,CAZM","file":"error.js","sourcesContent":["import logger from '../config/logger';\n\nexport const errorHandler = function(err, req, res, next) {\n    // set locals, only providing error in development\n    res.locals.message = err.message;\n    res.locals.error = req.app.get('env') === 'development'\n        ? err\n        : {};\n\n    logger.error(err);\n\n    res.sendStatus(\n        err.status || 500\n    ); // return a status code of 500 if none was provided or found\n};\n"]}