{"version":3,"sources":["../../../server/routes/index.js"],"names":["router","Router","isProdBuild","process","env","npm_lifecycle_event","endsWith","get","req","res","next","sendFile","join","__dirname","use","static","send"],"mappings":";;;;;;AAAA;;;;AACA;;;;;;AAEA,MAAMA,SAAS,kBAAQC,MAAR,EAAf;;AAEA,MAAMC,cAAcC,QAAQC,GAAR,CAAYC,mBAAZ,CAAgCC,QAAhC,CAAyC,MAAzC,CAApB;;AAEA,IAAIJ,WAAJ,EAAiB;AACbF,WAAOO,GAAP,CAAW,GAAX,EAAgB,UAASC,GAAT,EAAcC,GAAd,EAAmBC,IAAnB,EAAyB;AACrCD,YAAIE,QAAJ,CACI,eAAKC,IAAL,CAAUC,SAAV,EAAqB,IAArB,EAA2B,IAA3B,EAAiC,IAAjC,EAAuC,OAAvC,EAAgD,QAAhD,EAA0D,OAA1D,EAAmE,YAAnE,CADJ;AAGH,KAJD;;AAMAb,WAAOc,GAAP,CACI,GADJ,EAEI,kBAAQC,MAAR,CACI,eAAKH,IAAL,CAAUC,SAAV,EAAqB,IAArB,EAA2B,IAA3B,EAAiC,IAAjC,EAAuC,OAAvC,EAAgD,QAAhD,EAA0D,OAA1D,CADJ,CAFJ;AAMH,CAbD,MAaO;AACHb,WAAOO,GAAP,CAAW,GAAX,EAAgB,UAASC,GAAT,EAAcC,GAAd,EAAmBC,IAAnB,EAAyB;AACrCD,YAAIO,IAAJ,CAAS,gGAAT;AACH,KAFD;AAGH;;kBAEchB,M","file":"index.js","sourcesContent":["import express from 'express';\nimport path from 'path';\n\nconst router = express.Router();\n\nconst isProdBuild = process.env.npm_lifecycle_event.endsWith('prod');\n\nif (isProdBuild) {\n    router.get('/', function(req, res, next) {\n        res.sendFile(\n            path.join(__dirname, '..', '..', '..', 'build', 'client', 'build', 'index.html')\n        );\n    });\n\n    router.use(\n        '/',\n        express.static(\n            path.join(__dirname, '..', '..', '..', 'build', 'client', 'build')\n        )\n    );\n} else {\n    router.get('/', function(req, res, next) {\n        res.send('Run a production script (ending with \\':prod\\') and you will see the index.html on this route!');\n    });\n}\n\nexport default router;\n"]}